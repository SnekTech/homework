# SQLite的B树与Pager存储机制

> 佘玉非 SA20225386

## B树

B树是一种根据数据元素的值存储数据的数据结构，整体以树状呈现。SQLite用B树存储索引，以增加数据库的性能。B树的每一个节点中有一组`key`用于索引。数据库中一张表的每个列都可以创建索引。每棵B树都有一个根页，用于充当B树搜索的起点。

SQLite使用游标`Cursor`来指向一行数据，游标由页号`page id`和页偏移量`offset`构成。B树存储的索引中，具体的数据可以用指向数据的游标表示。数据库的元数据表`master_table`总是存放在数据库的第一页。

## Pager

页是SQLite数据库事务涉及文件系统的最小单位。当数据库需要从文件中读取数据时，它会申请对应的页。如果一个页被加载到数据库引擎中后经常被访问，数据库可以缓存该页。页的大小是固定的，每个页中存放多条数据记录。

> 参考资料：[how-sqlite-database-works](https://dzone.com/articles/how-sqlite-database-works)
